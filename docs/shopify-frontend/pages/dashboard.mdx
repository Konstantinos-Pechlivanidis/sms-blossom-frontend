# Dashboard Page Contract

## Purpose
The Dashboard page provides a comprehensive overview of SMS marketing performance, system health, and key metrics for the SMS Blossom application.

## Key Components Used
- **PageHeader**: Standard page header with help system
- **KpiCard**: Consistent KPI display components
- **HelpDialog**: Contextual help for page functionality
- **ActionWithHelp**: Primary action with help tooltip

## Data Dependencies
- **Query Keys**: `['overview', shop, period]`, `['health', shop]`
- **Hooks**: `useOverviewReport`, `useHealth`
- **Mutations**: None (read-only page)

## Backend Endpoints
| Method | Path | Purpose |
|--------|------|---------|
| `GET` | `/health` | System health status |
| `GET` | `/reports/overview` | KPI metrics and performance data |
| `GET` | `/reports/messaging` | Messaging statistics |

## User Actions
| Action | This button does... | Backend Operation |
|--------|-------------------|-------------------|
| **Create Campaign** | Opens campaign creation wizard | N/A (frontend navigation) |
| **Retry** | Refreshes dashboard data | Refetches `useOverviewReport` |
| **Date Range Change** | Filters data by time period | Refetches queries with new period |
| **Help** | Opens contextual help dialog | N/A (frontend modal) |

## Empty States
- **No Data**: Shows "No data available for the selected period" message
- **Loading**: Shows skeleton components for KPIs and charts
- **Error**: Shows critical banner with retry button

## Loading States
- **KPI Loading**: `KpiSkeletonRow` component
- **Chart Loading**: `ChartSkeleton` component
- **Health Loading**: Spinner with "Loading system health..." text

## Error States
- **Overview Error**: Critical banner with retry button
- **Health Error**: Warning banner for system health issues
- **Network Error**: Toast notification for API failures

## Success States
- **Data Refresh**: Success toast on retry
- **Date Range Change**: Automatic data refetch

## Accessibility
- **Keyboard Navigation**: Full keyboard support for all interactive elements
- **Screen Reader**: Proper ARIA labels and semantic HTML
- **Focus Management**: Clear focus indicators and logical tab order

## Mobile Responsiveness
- **Grid Layout**: Responsive KPI grid (1/2/3 columns based on screen size)
- **Touch Targets**: 44x44pt minimum touch targets
- **Navigation**: Collapsible navigation for mobile

## Performance Considerations
- **Lazy Loading**: Heavy components loaded on demand
- **Data Caching**: 5-minute cache for overview data
- **Optimistic Updates**: Immediate UI feedback for user actions